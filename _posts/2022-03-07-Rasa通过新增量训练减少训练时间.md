## Rasa课程、Rasa培训、Rasa面试系列之   Rasa通过新增量训练减少训练时间 

我们很高兴地宣布增量训练的发布，这是 Rasa Open Source 2.2.0 中提供的一项新的实验性功能。增量训练允许您在添加新的训练示例后微调现有模型，而不是从头开始训练新模型。这显着减少了训练时间，减少了注释新数据和测试其对模型性能的影响之间的时间。实践对话驱动开发的团队受益于更高的效率、更快的实验和更少的瓶颈。


增量训练通过利用旧模型的知识来工作。当将新示例添加到训练数据集中时，增量训练会加载先前模型学习的权重，就像预训练模型一样。接下来，更新的数据集用于训练，但只用了从头开始训练模型所用时间的一小部分。此过程产生的微调模型包含对新示例的认识，并且性能与从头开始的模型相当。与从头开始训练模型相比，增量训练可以让您花费更少的时间进行训练，而将更多的时间用于对助手进行有意义的改进。

如何开始增量训练
要使用增量训练微调现有模型，请将--finetune标志附加到rasa train 命令。
rasa train --finetune

默认情况下，增量训练使用 /models 目录中最新的模型作为基础模型，尽管您可以通过提供其路径作为附加参数来指定另一个模型：
rasa train --finetune <path to model to finetune>

微调模型通过训练更少的时期来节省时间。在单个 epoch 中，机器学习算法会遍历数据集中的每个训练示例；通常，模型会在多个 epoch 上进行训练。用于从头开始训练周期的 epoch 数在助手的 config.yml 文件中指定。

--epoch-fraction您可以使用该标志来控制用于微调训练周期的epoch 数。该--epoch-fraction标志告诉增量训练过程运行模型配置中指定的一小部分epoch。例如，如果将正常训练周期设置为 100 个 epoch，则以下命令将运行 20 个 epoch 的微调训练epoch：
rasa train --finetune --epoch-fraction 0.2

或者，您可以在 config.yml 文件中指定微调时期的数量。如果您想根据已添加的新数据量为不同数量的 epoch 微调不同的机器学习组件，这将非常有用。

增量训练常见问题解答
问：增量训练会取代从头开始的训练吗？
简而言之，增量训练是对从零开始的训练的补充，但并不是要取代它。增量训练是整合新数据的快速方法，但我们建议定期从头开始训练您的生产模型，以获得更长训练时间的全部优势。

需要注意的是，增量训练只能在更新仅限于将新的 NLU 训练示例添加到现有意图时执行。其他更改，例如添加或合并意图、创建新实体或向域添加槽位和操作，需要从头开始训练。

问：我需要考虑哪些模型配置设置？
增量训练要求基础模型与微调模型的形状和大小相同。除了 epoch，在创建基础模型和执行增量训练时，您应该保持模型配置相同。

此外，如果您使用RegexFeaturizer或CountVectorsFeaturizer ，您应该将一些额外的超参数添加到 config.yml 文件中  。这些额外的超参数确保稀疏特征在基本模型和微调模型之间具有固定大小。

问：与从头开始训练相比，微调模型的性能如何？
我们早期的实验表明，微调模型的性能非常接近从零开始训练的模型的性能。对于经常进行注释和测试的团队，经过微调的模型可以准确表示生产模型如何使用新数据执行。

要了解有关我们的基准测试实验的更多信息并深入了解增量训练的内部工作原理，请查看我们最新的算法白板视频。

快速跟踪对话驱动的开发
构建人工智能助手的挑战之一是组装一个准确反映用户说话方式的数据集。用户发送给您的助手的消息在 Rasa X 中被捕获，在那里它们可以被注释并保存到您的 NLU 训练数据文件中。

此注释工作流程是对话驱动开发的重要组成部分，许多实践的团队每天或每周都会对消息进行注释。增量训练允许团队在通过重新训练现有模型进行更新时节省时间。当与持续集成部署 自动化相结合时，增量训练创建了一个无缝的工作流程，用于将更改从 Rasa X 转移到已部署的助手。在Rasa 文档中了解有关对话驱动开发和为您的助手设置持续集成部署 的更多信息。

结论
增量训练是一个经常被要求的功能，我们很高兴社区可以尝试一下。要开始使用，请升级到 Rasa Open Source 2.2.0 并查看文档以获取有关使用的详细信息。

增量训练目前是一项实验性功能，我们需要您根据您的反馈帮助测试和完善该功能。如果您尝试过增量训练，请告诉我们它在您的数据集上的表现。我们特别想知道微调与从头开始训练时训练时间的比较，以及微调模型的表现。在Rasa 论坛中分享您的反馈！



Rasa官网链接： https://rasa.com/ 

Gavin大咖课程信息分享：
NLP on Transformers高手之路137课（模型、算法、论文、源码、案例 + 1年答疑）
Rasa 3.x 源码高手之路：系统架构、内核算法、源码实现详解



Gavin大咖简介
星空智能对话机器人创始人、AI通用双线思考法作者，现工作于硅谷顶级的AI实验室。专精于Conversational AI. 在美国曾先后工作于硅谷最顶级的机器学习和人工智能实验室 
Gavin大咖微信：NLP_Matrix_Space  
联系电话：+1 650-603-1290
联系邮箱：hiheartfirst@gmail.com
助教老师微信：Spark_AI_NLP  
