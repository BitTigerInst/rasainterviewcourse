## Rasa课程101问 67 Rasa  Version: 3.x  Responses使用哪些变化形式  ？

响应变化#
如果您为给定的响应名称提供多种响应变体供您选择，则可以使助手的回复更有趣：

在这个例子中，当utter_greet被预测为下一个动作时，Rasa 将随机选择两个响应变体中的一个来使用。

特定于通道的响应变化#
要根据用户连接的通道指定不同的响应变化，请使用特定于通道的响应变化。
在以下示例中，channel键使第一个响应变体特定于slack通道，而第二个变体不是特定于通道：

笔记
确保channel键的值与输入通道channel的方法返回的值相匹配。如果您使用的是内置通道，此值也将与credentials.yml文件中使用的通道名称匹配。

当您的助手在给定响应名称下查找合适的响应变体时，它会首先尝试从当前频道的特定于频道的变体中进行选择。如果不存在此类变化，则助手将从任何非通道特定的响应变化中进行选择。

在上面的示例中，第二个响应变量没有channel指定，您的助手可以将其用于除 之外的所有通道slack。
对于每个响应，尝试至少有一个响应变体没有channel键。这使您的助手可以在所有环境中正确响应，例如在新频道、shell 和交互式学习中。

条件响应变化#
也可以使用条件响应变化基于一个或多个槽值来选择特定响应变化。条件响应变体在域或响应 YAML 文件中定义，类似于标准响应变体，但具有附加condition键。此项指定插槽name和value约束的列表。

当在对话期间触发响应时，将根据当前对话状态检查每个条件响应变化的约束。如果所有约束槽值都等于当前对话状态的对应槽值，则响应变体有资格被您的会话助手使用。
笔记
对话状态槽值和约束槽值的比较是由相等“==”运算符执行的，它也需要槽值的类型匹配。例如，如果约束被指定为value: true，那么槽需要填充一个 boolean true，而不是 string "true"。

在以下示例中，我们将定义一个具有一个约束的条件响应变化，即logged_in槽设置为true：



在上面的示例中，只要执行操作并且槽设置 ，"Hey, {name}. Nice to see you again! How are you?"就会使用第一个响应变体 ( ) 。没有条件的第二个变体将被视为默认值，并在 不等于时使用。 utter_greet   logged_in    true    logged_in   true
强烈建议始终提供没有条件的默认响应变体，以防止没有条件响应与已填充槽匹配的情况。

在对话期间，Rasa 将从所有满足约束的条件响应变体中进行选择。如果有多个符合条件的条件响应变体，Rasa 将随机选择一个。例如，考虑以下响应：

如果logged_in和eligible_for_upgrade都设置为 true，则第一个和第二个响应变体都有资格使用，并且将由会话助手以相等的概率选择。

您可以继续使用特定于通道的响应变体以及条件响应变体，如下例所示。


Rasa 将按以下顺序优先选择响应：
匹配通道的条件响应变化
具有匹配通道的默认响应
没有匹配通道的条件响应变化
没有匹配渠道的默认响应




  
建议报名Gavin大咖的Rasa 3.x 源码高手之路：系统架构、内核算法、源码实现详解课程，具体来说，该系统课程是以下五大课程的合集：
1，    业务对话机器人Rasa 3.x Internals内幕详解及Rasa框架定制实战
2，    业务对话机器人Rasa核心算法DIET及TED论文详解及源码实现
3，    Rasa 3.x 语言理解内核Classifiers架构、算法及源码实现
4，    基于Transformer的对话机器人Rasa Policies架构设计与源码全解
5，    Rasa业务对话机器人Microservices微服务架构内幕与源码全解
课程通过这五大阶段内容，按照循序渐进的学习方式，帮助学员彻底精通Rasa新一代内核架构、算法内幕及源码实现。
Gavin大咖是星空智能对话机器人创始人、AI通用双线思考法作者，现工作于硅谷顶级的AI实验室。专精于Conversational AI. 在美国曾先后工作于硅谷最顶级的机器学习和人工智能实验室 
Gavin大咖微信：NLP_Matrix_Space  
联系电话：+1 650-603-1290
联系邮箱：hiheartfirst@gmail.com
助教老师微信：Spark_AI_NLP  



Gavin导师
星空智能对话机器人创始人/AI双线思考法作者
